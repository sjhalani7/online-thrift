{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ianke\\\\OneDrive\\\\Desktop\\\\online-thrift\\\\thriftfindr-ui\\\\thriftfindr-ui\\\\src\\\\StoreDetailPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { MapPin, Clock, ExternalLink, Search as SearchIcon, Shirt, Lamp, Disc, BookOpen } from 'lucide-react';\nimport ItemCardDetailed from './ItemCardDetailed';\nimport CategoryFilterPills from './CategoryFilterPills';\nimport Pagination from './Pagination';\nimport ItemDetailModal from './ItemDetailModal';\nimport NewItemModal from './NewItemModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst exampleItemCategories = [{\n  name: 'Clothing',\n  icon: Shirt,\n  active: false\n}, {\n  name: 'Decor',\n  icon: Lamp,\n  active: false\n}, {\n  name: 'Music',\n  icon: Disc,\n  active: false\n}, {\n  name: 'Books',\n  icon: BookOpen,\n  active: false\n}];\nconst StoreDetailPage = () => {\n  _s();\n  const {\n    storeId\n  } = useParams();\n  const [store, setStore] = useState(null);\n  const [featuredItems, setFeaturedItems] = useState([]);\n  const [allItemsForDisplay, setAllItemsForDisplay] = useState([]);\n  const [loadingStore, setLoadingStore] = useState(true);\n  const [loadingItems, setLoadingItems] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentAllItemsPage, setCurrentAllItemsPage] = useState(1);\n  const itemsPerPage = 8;\n  const [activeItemCategories, setActiveItemCategories] = useState(exampleItemCategories);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [selectedItemForModal, setSelectedItemForModal] = useState(null);\n  const storeDetailsFallbacks = {\n    storeName: \"Amazing Finds Thrift\",\n    address: \"123 Vintage Lane, Thriftyville, TX\",\n    hours: \"10 AM - 6 PM, Mon-Sat\",\n    description: \"Your go-to place for unique second-hand treasures, from vintage clothing to classic homewares. Discover sustainable style and iconic pieces.\",\n    story: \"Founded with a passion for pre-loved items, we aim to bring you a curated collection of the best thrift finds. Every item has a story, and we're excited to help you write its next chapter.\",\n    websiteUrl: \"#\",\n    storeImageUrl: 'https://via.placeholder.com/150?text=Store+Logo'\n  };\n  useEffect(() => {\n    const fetchStoreAndItems = async () => {\n      if (!storeId) return;\n      setLoadingStore(true);\n      setLoadingItems(true);\n      setError(null);\n      try {\n        const storesResponse = await fetch('/api/stores');\n        if (!storesResponse.ok) throw new Error(`Failed to fetch stores: ${storesResponse.status}`);\n        const allStoresData = await storesResponse.json();\n        const currentStore = allStoresData.find(s => s.id.toString() === storeId);\n        if (!currentStore) {\n          setError('Store not found.');\n          setLoadingStore(false);\n          setLoadingItems(false);\n          return;\n        }\n        setStore(currentStore);\n        setLoadingStore(false);\n        const itemsResponse = await fetch(`/api/stores/${storeId}/items`);\n        if (!itemsResponse.ok) throw new Error(`Failed to fetch items: ${itemsResponse.status}`);\n        const itemsData = await itemsResponse.json();\n        const formattedItemsForCards = itemsData.map(item => ({\n          id: item.id,\n          imageUrl: item.image_url || 'https://via.placeholder.com/300x300?text=Item',\n          name: item.name,\n          price: `$${item.price.toFixed(2)}`,\n          descriptionTags: item.tags || 'No tags available',\n          description: item.description || 'No detailed description available.'\n        }));\n        setFeaturedItems(formattedItemsForCards.slice(0, 4));\n        setAllItemsForDisplay(formattedItemsForCards);\n      } catch (err) {\n        if (err instanceof Error) setError(err.message);else setError('An unknown error occurred.');\n      } finally {\n        setLoadingStore(false);\n        setLoadingItems(false);\n      }\n    };\n    fetchStoreAndItems();\n  }, [storeId]);\n  const handleOpenModal = useCallback(item => {\n    setSelectedItemForModal(item);\n    setIsModalOpen(true);\n  }, []);\n  const handleCloseModal = useCallback(() => {\n    setIsModalOpen(false);\n    setSelectedItemForModal(null);\n  }, []);\n  useEffect(() => {\n    const handleEscapeKey = event => {\n      if (event.key === 'Escape') handleCloseModal();\n    };\n    if (isModalOpen) document.addEventListener('keydown', handleEscapeKey);\n    return () => document.removeEventListener('keydown', handleEscapeKey);\n  }, [isModalOpen, handleCloseModal]);\n  const handleItemCategoryPillClick = name => {\n    setActiveItemCategories(prev => prev.map(cat => cat.name === name ? {\n      ...cat,\n      active: !cat.active\n    } : cat));\n    setCurrentAllItemsPage(1);\n  };\n  const handleSearchChange = event => {\n    setSearchTerm(event.target.value);\n    setCurrentAllItemsPage(1);\n  };\n  const [isNewItemModalOpen, setIsNewItemModalOpen] = useState(false);\n  const handleSubmitNewItem = itemData => {\n    console.log(\"New item submitted:\", itemData);\n    // TODO: send itemData to your backend via POST\n  };\n  if (loadingStore) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center p-10 text-brand-gray-medium\",\n    children: \"Loading store details...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 28\n  }, this);\n  if (error && !store) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center p-10 text-red-500\",\n    children: [\"Error: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 141,\n    columnNumber: 31\n  }, this);\n  if (!store) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center p-10 text-brand-gray-medium\",\n    children: \"Store not found or an error occurred.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 22\n  }, this);\n  const filteredAndSearchedItems = allItemsForDisplay.filter(item => {\n    const activeCatNames = activeItemCategories.filter(c => c.active).map(c => c.name.toLowerCase());\n    const itemMatchesCategory = activeCatNames.length === 0 || item.descriptionTags && activeCatNames.some(cn => item.descriptionTags.toLowerCase().includes(cn));\n    const itemMatchesSearch = searchTerm === '' || item.name.toLowerCase().includes(searchTerm.toLowerCase()) || item.descriptionTags && item.descriptionTags.toLowerCase().includes(searchTerm.toLowerCase());\n    return itemMatchesCategory && itemMatchesSearch;\n  });\n  const totalAllItemsPages = Math.ceil(filteredAndSearchedItems.length / itemsPerPage);\n  const paginatedAllItems = filteredAndSearchedItems.slice((currentAllItemsPage - 1) * itemsPerPage, currentAllItemsPage * itemsPerPage);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white font-inter text-brand-charcoal\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"relative bg-gradient-to-r from-brand-orange via-orange-400 to-amber-300 text-white p-8 md:p-12 rounded-lg shadow-lg mb-12 md:mb-16 overflow-hidden\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative z-10 flex flex-col md:flex-row items-start md:items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: storeDetailsFallbacks.storeImageUrl,\n            alt: `${store.name || storeDetailsFallbacks.storeName} logo`,\n            className: \"w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-white shadow-md object-cover mr-6 mb-4 md:mb-0 flex-shrink-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-3xl md:text-4xl font-bold mb-1\",\n              children: store.name || storeDetailsFallbacks.storeName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-sm opacity-90 mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(MapPin, {\n                size: 16,\n                className: \"mr-1.5 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 21\n              }, this), \" \", store.address || storeDetailsFallbacks.address]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center text-sm opacity-90 mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Clock, {\n                size: 16,\n                className: \"mr-1.5 flex-shrink-0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 21\n              }, this), \" Hours: \", store.hours || storeDetailsFallbacks.hours]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm opacity-90 max-w-2xl\",\n              children: storeDetailsFallbacks.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: storeDetailsFallbacks.websiteUrl,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"mt-4 md:mt-0 md:ml-6 bg-white text-brand-orange px-5 py-2.5 rounded-md font-semibold hover:bg-orange-50 transition-colors text-sm self-start md:self-center whitespace-nowrap flex items-center\",\n            children: [\"Visit Website \", /*#__PURE__*/_jsxDEV(ExternalLink, {\n              size: 16,\n              className: \"inline-block ml-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsNewItemModalOpen(true),\n            className: \"mt-2 md:mt-2 md:ml-6 bg-white text-brand-charcoal px-5 py-2.5 rounded-md font-semibold hover:bg-gray-100 transition-colors text-sm self-start md:self-center whitespace-nowrap\",\n            children: \"Your Store? List Items Here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"py-8 md:py-12 bg-gray-50 rounded-lg shadow p-8 mb-12 md:mb-16\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-brand-charcoal mb-4\",\n          children: \"Our Story\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-brand-gray-medium leading-relaxed\",\n          children: storeDetailsFallbacks.story\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"my-8 md:my-12 border-gray-200\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"mb-12 md:mb-16\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-semibold text-brand-charcoal mb-6\",\n          children: \"Featured Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), loadingItems ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-brand-gray-medium py-4\",\n          children: \"Loading featured items...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this) : featuredItems.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\",\n          children: featuredItems.map(item => /*#__PURE__*/_jsxDEV(ItemCardDetailed, {\n            ...item,\n            onViewItemClick: handleOpenModal\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 42\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-brand-gray-medium py-4\",\n          children: \"No featured items available at this store currently.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"my-8 md:my-12 border-gray-200\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-semibold text-brand-charcoal\",\n            children: [\"All Items (\", filteredAndSearchedItems.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative w-full md:w-72\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"search\",\n              placeholder: \"Search items... (e.g., jacket, tags)\",\n              value: searchTerm,\n              onChange: handleSearchChange,\n              className: \"w-full p-3 pl-10 border border-gray-300 rounded-md focus:ring-2 focus:ring-brand-orange focus:border-transparent text-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(SearchIcon, {\n              className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\",\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: /*#__PURE__*/_jsxDEV(CategoryFilterPills, {\n            categories: activeItemCategories,\n            onPillClick: handleItemCategoryPillClick\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), loadingItems && paginatedAllItems.length === 0 && !searchTerm && activeItemCategories.every(c => !c.active) ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-brand-gray-medium py-8\",\n          children: \"Loading items...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this) : !loadingItems && paginatedAllItems.length === 0 && searchTerm ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-brand-gray-medium py-8\",\n          children: [\"No items match \\\"\", searchTerm, \"\\\". Try a different search or adjust category filters.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this) : !loadingItems && paginatedAllItems.length === 0 && activeItemCategories.some(c => c.active) ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-brand-gray-medium py-8\",\n          children: \"No items match the selected categories. Try clearing filters or searching.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this) : !loadingItems && paginatedAllItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-brand-gray-medium py-8\",\n          children: \"No items available in this store currently.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-8\",\n          children: paginatedAllItems.map(item => /*#__PURE__*/_jsxDEV(ItemCardDetailed, {\n            ...item,\n            onViewItemClick: handleOpenModal\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 46\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this), filteredAndSearchedItems.length > itemsPerPage && /*#__PURE__*/_jsxDEV(Pagination, {\n          currentPage: currentAllItemsPage,\n          totalPages: totalAllItemsPages,\n          onPageChange: setCurrentAllItemsPage,\n          itemsName: \"items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NewItemModal, {\n      isOpen: isNewItemModalOpen,\n      onClose: () => setIsNewItemModalOpen(false),\n      onSubmit: handleSubmitNewItem\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ItemDetailModal, {\n      isOpen: isModalOpen,\n      onClose: handleCloseModal,\n      item: selectedItemForModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 5\n  }, this);\n};\n_s(StoreDetailPage, \"cpIaThl/gAT7tEDc2p6nxIaCI34=\", false, function () {\n  return [useParams];\n});\n_c = StoreDetailPage;\nexport default StoreDetailPage;\nvar _c;\n$RefreshReg$(_c, \"StoreDetailPage\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","useParams","MapPin","Clock","ExternalLink","Search","SearchIcon","Shirt","Lamp","Disc","BookOpen","ItemCardDetailed","CategoryFilterPills","Pagination","ItemDetailModal","NewItemModal","jsxDEV","_jsxDEV","exampleItemCategories","name","icon","active","StoreDetailPage","_s","storeId","store","setStore","featuredItems","setFeaturedItems","allItemsForDisplay","setAllItemsForDisplay","loadingStore","setLoadingStore","loadingItems","setLoadingItems","error","setError","currentAllItemsPage","setCurrentAllItemsPage","itemsPerPage","activeItemCategories","setActiveItemCategories","searchTerm","setSearchTerm","isModalOpen","setIsModalOpen","selectedItemForModal","setSelectedItemForModal","storeDetailsFallbacks","storeName","address","hours","description","story","websiteUrl","storeImageUrl","fetchStoreAndItems","storesResponse","fetch","ok","Error","status","allStoresData","json","currentStore","find","s","id","toString","itemsResponse","itemsData","formattedItemsForCards","map","item","imageUrl","image_url","price","toFixed","descriptionTags","tags","slice","err","message","handleOpenModal","handleCloseModal","handleEscapeKey","event","key","document","addEventListener","removeEventListener","handleItemCategoryPillClick","prev","cat","handleSearchChange","target","value","isNewItemModalOpen","setIsNewItemModalOpen","handleSubmitNewItem","itemData","console","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","filteredAndSearchedItems","filter","activeCatNames","c","toLowerCase","itemMatchesCategory","length","some","cn","includes","itemMatchesSearch","totalAllItemsPages","Math","ceil","paginatedAllItems","src","alt","size","href","rel","onClick","onViewItemClick","type","placeholder","onChange","categories","onPillClick","every","currentPage","totalPages","onPageChange","itemsName","isOpen","onClose","onSubmit","_c","$RefreshReg$"],"sources":["C:/Users/ianke/OneDrive/Desktop/online-thrift/thriftfindr-ui/thriftfindr-ui/src/StoreDetailPage.tsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { ApiStore, ApiItem } from './apiTypes';\nimport { MapPin, Clock, ExternalLink, Search as SearchIcon, Shirt, Lamp, Disc, BookOpen } from 'lucide-react'; \nimport ItemCardDetailed, { ItemCardDetailedProps } from './ItemCardDetailed';\nimport CategoryFilterPills, { StoreCategoryPill } from './CategoryFilterPills';\nimport Pagination from './Pagination';\nimport ItemDetailModal from './ItemDetailModal';\nimport NewItemModal from './NewItemModal'; \n\n\n\n\nconst exampleItemCategories: StoreCategoryPill[] = [\n  { name: 'Clothing', icon: Shirt, active: false }, \n  { name: 'Decor', icon: Lamp, active: false },\n  { name: 'Music', icon: Disc, active: false },\n  { name: 'Books', icon: BookOpen, active: false },\n];\n\nconst StoreDetailPage: React.FC = () => {\n  const { storeId } = useParams<{ storeId: string }>();\n  const [store, setStore] = useState<ApiStore | null>(null);\n  const [featuredItems, setFeaturedItems] = useState<ItemCardDetailedProps[]>([]);\n  const [allItemsForDisplay, setAllItemsForDisplay] = useState<ItemCardDetailedProps[]>([]); \n  \n  const [loadingStore, setLoadingStore] = useState(true);\n  const [loadingItems, setLoadingItems] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  \n  const [currentAllItemsPage, setCurrentAllItemsPage] = useState(1);\n  const itemsPerPage = 8; \n  const [activeItemCategories, setActiveItemCategories] = useState<StoreCategoryPill[]>(exampleItemCategories);\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [selectedItemForModal, setSelectedItemForModal] = useState<ItemCardDetailedProps | null>(null);\n\n  const storeDetailsFallbacks = {\n    storeName: \"Amazing Finds Thrift\",\n    address: \"123 Vintage Lane, Thriftyville, TX\",\n    hours: \"10 AM - 6 PM, Mon-Sat\",\n    description: \"Your go-to place for unique second-hand treasures, from vintage clothing to classic homewares. Discover sustainable style and iconic pieces.\",\n    story: \"Founded with a passion for pre-loved items, we aim to bring you a curated collection of the best thrift finds. Every item has a story, and we're excited to help you write its next chapter.\",\n    websiteUrl: \"#\", \n    storeImageUrl: 'https://via.placeholder.com/150?text=Store+Logo'\n  };\n\n  useEffect(() => {\n    const fetchStoreAndItems = async () => {\n      if (!storeId) return;\n      setLoadingStore(true);\n      setLoadingItems(true);\n      setError(null);\n      try {\n        const storesResponse = await fetch('/api/stores');\n        if (!storesResponse.ok) throw new Error(`Failed to fetch stores: ${storesResponse.status}`);\n        const allStoresData: ApiStore[] = await storesResponse.json();\n        const currentStore = allStoresData.find(s => s.id.toString() === storeId);\n\n        if (!currentStore) {\n          setError('Store not found.'); \n          setLoadingStore(false); \n          setLoadingItems(false); \n          return;\n        }\n        setStore(currentStore);\n        setLoadingStore(false);\n\n        const itemsResponse = await fetch(`/api/stores/${storeId}/items`);\n        if (!itemsResponse.ok) throw new Error(`Failed to fetch items: ${itemsResponse.status}`);\n        const itemsData: ApiItem[] = await itemsResponse.json();\n\n        const formattedItemsForCards: ItemCardDetailedProps[] = itemsData.map(item => ({\n          id: item.id,\n          imageUrl: item.image_url || 'https://via.placeholder.com/300x300?text=Item',\n          name: item.name,\n          price: `$${item.price.toFixed(2)}`,\n          descriptionTags: item.tags || 'No tags available',\n          description: item.description || 'No detailed description available.',\n        }));\n        setFeaturedItems(formattedItemsForCards.slice(0, 4)); \n        setAllItemsForDisplay(formattedItemsForCards); \n\n      } catch (err) {\n        if (err instanceof Error) setError(err.message); \n        else setError('An unknown error occurred.');\n      } finally {\n        setLoadingStore(false); \n        setLoadingItems(false);\n      }\n    };\n    fetchStoreAndItems();\n  }, [storeId]);\n\n  const handleOpenModal = useCallback((item: ItemCardDetailedProps) => {\n    setSelectedItemForModal(item);\n    setIsModalOpen(true);\n  }, []);\n\n  const handleCloseModal = useCallback(() => {\n    setIsModalOpen(false);\n    setSelectedItemForModal(null);\n  }, []);\n\n  useEffect(() => {\n    const handleEscapeKey = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') handleCloseModal();\n    };\n    if (isModalOpen) document.addEventListener('keydown', handleEscapeKey);\n    return () => document.removeEventListener('keydown', handleEscapeKey);\n  }, [isModalOpen, handleCloseModal]);\n\n  const handleItemCategoryPillClick = (name: string) => {\n    setActiveItemCategories(prev =>\n      prev.map(cat => cat.name === name ? { ...cat, active: !cat.active } : cat)\n    );\n    setCurrentAllItemsPage(1); \n  };\n\n  const handleSearchChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchTerm(event.target.value);\n    setCurrentAllItemsPage(1); \n  };\n\n  const [isNewItemModalOpen, setIsNewItemModalOpen] = useState(false);\n\n  const handleSubmitNewItem = (itemData: {\n    name: string;\n    price: string;\n    descriptionTags: string;\n    description?: string;\n    imageUrl: string;\n  }) => {\n    console.log(\"New item submitted:\", itemData);\n    // TODO: send itemData to your backend via POST\n  };\n\n\n  if (loadingStore) return <div className=\"text-center p-10 text-brand-gray-medium\">Loading store details...</div>;\n  if (error && !store) return <div className=\"text-center p-10 text-red-500\">Error: {error}</div>;\n  if (!store) return <div className=\"text-center p-10 text-brand-gray-medium\">Store not found or an error occurred.</div>;\n\n  const filteredAndSearchedItems = allItemsForDisplay.filter(item => {\n    const activeCatNames = activeItemCategories.filter(c => c.active).map(c => c.name.toLowerCase());\n    const itemMatchesCategory = activeCatNames.length === 0 || \n                                (item.descriptionTags && activeCatNames.some(cn => item.descriptionTags.toLowerCase().includes(cn)));\n    const itemMatchesSearch = searchTerm === '' || \n                              item.name.toLowerCase().includes(searchTerm.toLowerCase()) || \n                              (item.descriptionTags && item.descriptionTags.toLowerCase().includes(searchTerm.toLowerCase()));\n    return itemMatchesCategory && itemMatchesSearch;\n  });\n\n  const totalAllItemsPages = Math.ceil(filteredAndSearchedItems.length / itemsPerPage);\n  const paginatedAllItems = filteredAndSearchedItems.slice((currentAllItemsPage - 1) * itemsPerPage, currentAllItemsPage * itemsPerPage);\n\n  return (\n    <div className=\"bg-white font-inter text-brand-charcoal\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12\">\n        <section \n          className=\"relative bg-gradient-to-r from-brand-orange via-orange-400 to-amber-300 text-white p-8 md:p-12 rounded-lg shadow-lg mb-12 md:mb-16 overflow-hidden\"\n        >\n          <div className=\"relative z-10 flex flex-col md:flex-row items-start md:items-center\">\n            <img \n                src={storeDetailsFallbacks.storeImageUrl} \n                alt={`${store.name || storeDetailsFallbacks.storeName} logo`} \n                className=\"w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-white shadow-md object-cover mr-6 mb-4 md:mb-0 flex-shrink-0\"\n            />\n            <div className=\"flex-1\">\n                <h1 className=\"text-3xl md:text-4xl font-bold mb-1\">{store.name || storeDetailsFallbacks.storeName}</h1>\n                <div className=\"flex items-center text-sm opacity-90 mb-1\">\n                    <MapPin size={16} className=\"mr-1.5 flex-shrink-0\" /> {store.address || storeDetailsFallbacks.address}\n                </div>\n                <div className=\"flex items-center text-sm opacity-90 mb-3\">\n                    <Clock size={16} className=\"mr-1.5 flex-shrink-0\" /> Hours: {store.hours || storeDetailsFallbacks.hours}\n                </div>\n                <p className=\"text-sm opacity-90 max-w-2xl\">\n                    {storeDetailsFallbacks.description}\n                </p>\n            </div>\n            <a \n                href={storeDetailsFallbacks.websiteUrl} \n                target=\"_blank\" \n                rel=\"noopener noreferrer\" \n                className=\"mt-4 md:mt-0 md:ml-6 bg-white text-brand-orange px-5 py-2.5 rounded-md font-semibold hover:bg-orange-50 transition-colors text-sm self-start md:self-center whitespace-nowrap flex items-center\"\n            >\n                Visit Website <ExternalLink size={16} className=\"inline-block ml-2\" />\n            </a>\n            <button\n              onClick={() => setIsNewItemModalOpen(true)}\n              className=\"mt-2 md:mt-2 md:ml-6 bg-white text-brand-charcoal px-5 py-2.5 rounded-md font-semibold hover:bg-gray-100 transition-colors text-sm self-start md:self-center whitespace-nowrap\"\n            >\n              Your Store? List Items Here\n            </button>\n\n          </div>\n        </section>\n\n        <section className=\"py-8 md:py-12 bg-gray-50 rounded-lg shadow p-8 mb-12 md:mb-16\">\n          <h2 className=\"text-2xl font-semibold text-brand-charcoal mb-4\">Our Story</h2>\n          <p className=\"text-brand-gray-medium leading-relaxed\">\n            {storeDetailsFallbacks.story}\n          </p>\n        </section>\n\n        <hr className=\"my-8 md:my-12 border-gray-200\" />\n        \n        <section className=\"mb-12 md:mb-16\">\n          <h2 className=\"text-2xl font-semibold text-brand-charcoal mb-6\">Featured Items</h2>\n          {loadingItems ? (\n            <p className=\"text-center text-brand-gray-medium py-4\">Loading featured items...</p>\n          ) : featuredItems.length > 0 ? (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n              {featuredItems.map(item => <ItemCardDetailed key={item.id} {...item} onViewItemClick={handleOpenModal} />)}\n            </div>\n          ) : (\n            <p className=\"text-center text-brand-gray-medium py-4\">No featured items available at this store currently.</p>\n          )}\n        </section>\n\n        <hr className=\"my-8 md:my-12 border-gray-200\" />\n\n        <section>\n          <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4\">\n            <h2 className=\"text-2xl font-semibold text-brand-charcoal\">All Items ({filteredAndSearchedItems.length})</h2>\n            <div className=\"relative w-full md:w-72\">\n                <input \n                    type=\"search\"\n                    placeholder=\"Search items... (e.g., jacket, tags)\"\n                    value={searchTerm}\n                    onChange={handleSearchChange}\n                    className=\"w-full p-3 pl-10 border border-gray-300 rounded-md focus:ring-2 focus:ring-brand-orange focus:border-transparent text-sm\"\n                />\n                <SearchIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={18} />\n            </div>\n          </div>\n\n          <div className=\"mb-6\">\n            <CategoryFilterPills categories={activeItemCategories} onPillClick={handleItemCategoryPillClick} />\n          </div>\n\n          {loadingItems && paginatedAllItems.length === 0 && !searchTerm && activeItemCategories.every(c => !c.active) ? (\n            <p className=\"text-center text-brand-gray-medium py-8\">Loading items...</p>\n          ) : !loadingItems && paginatedAllItems.length === 0 && searchTerm ? (\n            <p className=\"text-center text-brand-gray-medium py-8\">No items match \"{searchTerm}\". Try a different search or adjust category filters.</p>\n          ) : !loadingItems && paginatedAllItems.length === 0 && activeItemCategories.some(c=>c.active) ? (\n            <p className=\"text-center text-brand-gray-medium py-8\">No items match the selected categories. Try clearing filters or searching.</p>\n          ) : !loadingItems && paginatedAllItems.length === 0 ? (\n            <p className=\"text-center text-brand-gray-medium py-8\">No items available in this store currently.</p>\n          ) : (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-8\">\n              {paginatedAllItems.map(item => <ItemCardDetailed key={item.id} {...item} onViewItemClick={handleOpenModal} />)}\n            </div>\n          )}\n          \n          {filteredAndSearchedItems.length > itemsPerPage && (\n            <Pagination \n                currentPage={currentAllItemsPage} \n                totalPages={totalAllItemsPages} \n                onPageChange={setCurrentAllItemsPage} \n                itemsName=\"items\" \n            />\n          )}\n        </section>\n      </div>\n      \n      <NewItemModal\n        isOpen={isNewItemModalOpen}\n        onClose={() => setIsNewItemModalOpen(false)}\n        onSubmit={handleSubmitNewItem}\n      />\n\n      <ItemDetailModal \n        isOpen={isModalOpen} \n        onClose={handleCloseModal} \n        item={selectedItemForModal} \n      />\n    </div>\n  );\n};\n\nexport default StoreDetailPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}